!function(e,t,a,n,l){novalnetPaymentElement={getBirthField:e=>Object(a.createElement)("div",{id:e+"_dob_field",className:"wc-block-gateway-container"},Object(a.createElement)("input",{type:"text",id:e+"_dob",name:e+"_dob",className:"wc-block-gateway-input",autoComplete:"OFF",placeholder:Object(n.__)("DD.MM.YYYY","woocommerce-novalnet-gateway"),style:{textTransform:"uppercase"},onKeyDown:e=>NovalnetUtility.isNumericBirthdate(e.target,e.nativeEvent),onBlur:t=>wc_novalnet.validate_date_format(t.target,e)}),Object(a.createElement)("label",{htmlFor:e+"_dob"},Object(n.__)("Your date of birth","woocommerce-novalnet-gateway"),novalnetPaymentElement.markAsRequired())),getIBANField:e=>Object(a.createElement)("div",{id:e+"_iban_field",className:"wc-block-gateway-container"},Object(a.createElement)("input",{type:"text",id:e+"_iban",name:e+"_iban",className:"wc-block-gateway-input",autoComplete:"OFF",placeholder:"DE00 0000 0000 0000 0000 00",style:{textTransform:"uppercase"},onKeyPress:t=>NovalnetUtility.checkIban(t.nativeEvent,e+"_bic_field"),onChange:t=>NovalnetUtility.formatIban(t.nativeEvent,e+"_bic_field"),onKeyUp:t=>NovalnetUtility.formatIban(t.nativeEvent,e+"_bic_field")}),Object(a.createElement)("label",{htmlFor:e+"_iban"},Object(n.__)("IBAN ","woocommerce-novalnet-gateway"),novalnetPaymentElement.markAsRequired())),getBICField:e=>Object(a.createElement)("div",{id:e+"_bic_field",className:"wc-block-gateway-container",style:{display:"none"}},Object(a.createElement)("input",{type:"text",id:e+"_bic",name:e+"_bic",className:"wc-block-gateway-input",autoComplete:"OFF",placeholder:"XXXX XX XX XXX",style:{textTransform:"uppercase"},onKeyPress:e=>NovalnetUtility.formatBic(e.nativeEvent),onChange:e=>NovalnetUtility.formatBic(e.nativeEvent)}),Object(a.createElement)("label",{htmlFor:e+"_bic"},Object(n.__)("BIC ","woocommerce-novalnet-gateway"),novalnetPaymentElement.markAsRequired())),getHolderField:(e,t)=>{const[l,o]=a.useState(t.first_name+" "+t.last_name);return Object(a.createElement)("div",{id:e+"_holder_field",className:"wc-block-gateway-container"},Object(a.createElement)("input",{type:"text",id:e+"_holder",name:e+"_holder",className:"wc-block-gateway-input",autoComplete:"OFF",placeholder:Object(n.__)("Account Holder ","woocommerce-novalnet-gateway"),value:l,onKeyPress:e=>(o(e.target.value),wc_novalnet.is_valid_name(e.nativeEvent)),onChange:e=>(o(e.target.value),wc_novalnet.is_valid_name(e.nativeEvent)),onKeyUp:e=>(o(e.target.value),wc_novalnet.is_valid_name(e.nativeEvent))}),Object(a.createElement)("label",{htmlFor:e+"_holder"},Object(n.__)("Account Holder ","woocommerce-novalnet-gateway"),novalnetPaymentElement.markAsRequired()))},getAccountField:e=>Object(a.createElement)("div",{id:e+"_account_field",className:"wc-block-gateway-container"},Object(a.createElement)("input",{type:"text",id:e+"_account",name:e+"_account",className:"wc-block-gateway-input",autoComplete:"OFF",placeholder:"123456789",onKeyPress:e=>wc_novalnet.is_number(e.nativeEvent),onChange:e=>wc_novalnet.is_number(e.nativeEvent),onKeyUp:e=>wc_novalnet.is_number(e.nativeEvent)}),Object(a.createElement)("label",{htmlFor:e+"_account"},Object(n.__)("Account Number","woocommerce-novalnet-gateway"),novalnetPaymentElement.markAsRequired())),getRoutingField:e=>Object(a.createElement)("div",{id:e+"_routing_field",className:"wc-block-gateway-container"},Object(a.createElement)("input",{type:"text",id:e+"_routing",name:e+"_routing",className:"wc-block-gateway-input",autoComplete:"OFF",placeholder:"123456789",onKeyPress:e=>wc_novalnet.is_number(e.nativeEvent),onChange:e=>wc_novalnet.is_number(e.nativeEvent),onKeyUp:e=>wc_novalnet.is_number(e.nativeEvent)}),Object(a.createElement)("label",{htmlFor:e+"_routing"},Object(n.__)("Routing Number (ABA)","woocommerce-novalnet-gateway"),novalnetPaymentElement.markAsRequired())),getInstalmentField:(e,o,i)=>{var r=[];return Object.entries(o).forEach((([e,t])=>{parseFloat((i/t).toFixed(2))>=999&&r.push({value:t,lable:t+Object(n.__)(" Cycles ","woocommerce-novalnet-gateway")})})),Object(a.createElement)("div",{id:e+"_cycle_field",className:"wc-block-gateway-container"},Object(a.createElement)("div",null,Object(a.createElement)(l.SelectControl,{type:"text",id:e+"_cycle",name:e+"_cycle",className:"wc-block-components-select-input",onChange:a=>function(a){document.getElementById(e+"_cycle_table").innerHTML="";var l=document.getElementById(e+"_cycle_table"),o=l.insertRow(),r=o.insertCell(),c=o.insertCell();r.appendChild(document.createTextNode(Object(n.__)("Instalment cycles","woocommerce-novalnet-gateway"))),c.appendChild(document.createTextNode(Object(n.__)("Instalment Amount","woocommerce-novalnet-gateway")));var s=Math.round(i/a),m=0;for(let e=1;e<=a;e++){var d=l.insertRow(),_=d.insertCell(),p=d.insertCell();e==a&&(s=i-m),_.appendChild(document.createTextNode(e)),p.appendChild(document.createTextNode(t.formatPrice(s))),m+=s}}(a)},options=Object.entries(r).map((([e,t])=>Object(a.createElement)("option",{value:t.value},t.lable)))),novalnetPaymentElement.getInstalmentTable(e,o[0],Math.round(i/o[0]),i)))},getInstalmentTable:(e,l,o,i)=>Object(a.createElement)("div",null,Object(a.createElement)("table",{id:e+"_cycle_table",className:"wcblock-novalnet-instalment-table"},Object(a.createElement)("tr",null,Object(a.createElement)("th",null,Object(n.__)("Instalment cycles","woocommerce-novalnet-gateway")),Object(a.createElement)("th",null,Object(n.__)("Instalment Amount","woocommerce-novalnet-gateway"))),function(){var e=0,n=[];for(let r=1;r<=l;r++)r==l&&(o=i-e),e+=o,n.push(Object(a.createElement)("tr",null,Object(a.createElement)("td",null,r),Object(a.createElement)("td",null,t.formatPrice(o))));return n}())),markAsRequired:()=>Object(a.createElement)("span",{style:{color:"red"}}," *"),getPaymentMethodLabel:(e,t,n)=>{const l=null!==t&&t.icons.length?Object(a.createElement)(e.PaymentMethodIcons,{icons:t.icons,align:"right"}):null;return Object(a.createElement)("div",{className:"novalnet-block-checkout-payment-label"},Object(a.createElement)(e.PaymentMethodLabel,{text:n}),l)},getWalletButtonContainer:e=>Object(a.createElement)("div",{id:e}),getWalletRequestData:(t,a,n,l,o)=>{if("applepay"==t)var i=n.settings.apple_pay_button_height,r=n.settings.apple_pay_button_theme,c=n.settings.apple_pay_button_type,s=n.settings.apple_pay_button_corner_radius,m="border-box";else{i=n.settings.google_pay_button_height,c=n.settings.google_pay_button_type;var d=n.settings.partner_id;s=0,m="fill"}var _=["postalAddress","phone","email"],p=n.walletSheetDetails.cart_has_virtual,u=n.needs_payer_phone;if(1==p)if(1==u)_=["email","phone"];else _=["email"];var b={clientKey:n.settings.client_key,paymentIntent:{transaction:{amount:String(l.value),currency:String(o.code),paymentMethod:t.toUpperCase(),enforce3d:"yes"==n.settings.enforce_3d,environment:"yes"==n.settings.test_mode?"SANDBOX":"PRODUCTION",setPendingPayment:"1"==n.walletSheetDetails.setpending||1==p},merchant:{countryCode:String(n.walletSheetDetails.default_country),paymentDataPresent:!1},custom:{lang:String(n.walletSheetDetails.store_lang)},order:{paymentDataPresent:!1,merchantName:e("<textarea/>").html(n.walletSheetDetails.seller_name).text(),lineItems:n.walletSheetDetails.article_details,billing:{requiredFields:["postalAddress","phone","email"]},shipping:{requiredFields:_,methodsUpdatedLater:!0}},button:{dimensions:{width:"auto",cornerRadius:parseInt(s),height:parseInt(i)},locale:String(n.walletSheetDetails.store_lang),type:c,boxSizing:m},callbacks:{onProcessCompletion:function(a,l){if("SUCCESS"==a.result.status){var o={action:"novalnet_order_creation",payment:t,variable_name:a={response:a}};""!==n.walletSheetDetails.pay_for_order_id&&(o.pay_for_order_id=n.walletSheetDetails.pay_for_order_id),1==p&&(o.is_virtual_order=1),e.ajax({url:my_ajax_object.ajax_url,type:"POST",data:o,success:function(e){"success"==e.result?(l({status:"SUCCESS",statusText:""}),window.location.replace(e.redirect)):"error"==e.result&&(l({status:"FAILURE",statusText:e.redirect}),"applepay"==t.toLowerCase()&&alert(e.redirect))},error:function(e){alert(e.responseText)}})}},onShippingContactChange:function(t,l){var o={address:t},i={action:"novalnet_shipping_address_update",shippingInfo:JSON.stringify(o),shippingAddressChange:"1",simple_product_id:n.walletSheetDetails.add_product,variable_product_id:e("input[name=product_id]").val(),variable_variant_id:e("input[name=variation_id]").val(),source_page:a};e.ajax({url:my_ajax_object.ajax_url,type:"POST",data:i,success:function(e){let t={};0==e.shipping_address.length?t.methodsNotFound="There are no shipping options available. Please ensure that your address has been entered correctly, or contact us if you need any help.":null!=e.shipping_address&&e.shipping_address.length&&(t.amount=e.amount,t.lineItems=e.article_details,t.methods=e.shipping_address,t.defaultIdentifier=e.shipping_address[0].identifier),l(t)}})},onShippingMethodChange:function(t,a){var n={shippingMethod:t},l={action:"novalnet_shipping_method_update",shippingInfo:JSON.stringify(n),shippingAddressChange:"1"};e.ajax({url:my_ajax_object.ajax_url,type:"POST",data:l,success:function(e){var t={amount:e.amount,lineItems:e.order_info};a(t)}})},onPaymentButtonClicked:function(e){e({status:"SUCCESS"})}}}};return"googlepay"==t?((1==p||n.walletSheetDetails.pay_for_order||1==n.walletSheetDetails.cart_has_one_time_shipping)&&delete b.paymentIntent.order.shipping,delete b.paymentIntent.button.dimensions.cornerRadius,b.paymentIntent.merchant.partnerId=d):(b.paymentIntent.button.style=r,delete b.paymentIntent.transaction.enforce3d,"applepay"!=t||1!=p&&!n.walletSheetDetails.pay_for_order||delete b.paymentIntent.order.shipping.methodsUpdatedLater),b}}}(jQuery,wc.priceFormat,window.wp.element,window.wp.i18n,window.wp.components);